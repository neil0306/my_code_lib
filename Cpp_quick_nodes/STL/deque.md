# deque
deque 是STL里的一种`双端队列结构`, 它支持在两端添加和删除元素.

## deque 的特性
- 双端操作:
  - deque 支持在前端和后端执行快速插入和删除操作, 适用于经常需要**在前后两端增删元素的场景**.

- 随机访问:
  - deque 支持常量时间内的随机访问, 即`支持使用元素下标直接访问元素, 并且时间复杂度为 O(1)`.
    - deque 能支持随机访问是因为内部使用了`分段数组`, 每个分段都是一个固定大小的数组, 因此**可以直接计算索引的位置, 而不需要遍历整个容器**. 
      - 虽然 deque 允许常量时间内进行随机访问, 但与`std::vector`相比, `std::deque`在访问元素时可能涉及更多的间接层次, 因此, **在某些情况下 vector 的性能可能会更优秀一些**.
    - list 的内部实现是链表, 因此使用元素下标访问时需要使用迭代器遍历, 时间复杂是 `O(n)`

    ```cpp
    #include <iostream>
    #include <deque>
    using namespace std;

    int main(void)
    {
        std::deque<int> myDeque = {1, 2, 3, 4, 5};

        // 随机访问的时间复杂为 O(1)
        cout << "Element at index 2: " << myDeque[2] << endl;
        cout << "Element at index 4: " << myDeque[4] << endl;

        return 0;
    }
    ```


- 动态扩展:
  - deque 的大小可以动态调整, 无需事先分配固定大小的内存.
  - deque 适用于需要动态增长和缩小的情况.

- 保持迭代器有效性
  - deque 在进行插入和删除操作时, 能更好地**保持迭代器的有效性**. 进行增删元素之后, 不会导致所有迭代器失效.

- 内存局部性:
  - deque 内部结构利用了**多个缓冲区**, 有助于提高内存局部性, 从而在某些情况下提供更好的性能.




