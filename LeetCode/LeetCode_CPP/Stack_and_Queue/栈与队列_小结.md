# 栈与队列的基础知识
栈与队列在使用上的区别:
![](https://code-thinking-1253855093.file.myqcloud.com/pics/20210104235346563.png)
- 栈是`先进后出(First In Last Out, FILO)`, 队列是`先进先出(First In Fist Out, FIFO)`

--- 
## 关于STL中的栈
对于栈, 有如下几个问题需要明确:
1. C++中stack 是容器么？
    ```txt
    栈和队列都是C++里 (SLT) 的两种数据结构.
        他们确实是一种容器.
    ```

2. 我们使用的stack是属于哪个版本的STL？
    ```txt
    HP STL:
        其他版本的C++ STL，一般是以HP STL为蓝本实现出来的，HP STL是C++ STL的第一个实现版本，而且**开放源代码**。

    P.J.Plauger STL:
        由P.J.Plauger参照HP STL实现出来的，被Visual C++编译器所采用，**不是开源的**。

    SGI STL:
        由Silicon Graphics Computer Systems公司参照HP STL实现，被Linux的C++编译器GCC所采用，**SGI STL是开源软件**，源码可读性甚高。

    接下来介绍的栈和队列也是SGI STL里面的数据结构， 知道了使用版本，才知道对应的底层实现。
    ```

3. 我们使用的STL中stack是如何实现的？
![](https://code-thinking-1253855093.file.myqcloud.com/pics/20210104235434905.png)

4. stack 提供迭代器来遍历stack空间么？
    ```txt
    栈提供push 和 pop 等等接口，所有元素必须符合 **先进后出** 规则.
        所以 **栈不提供走访功能**，也 **不提供迭代器(iterator)**。

    set 或者 map 这种数据结构则会提供迭代器iterator来遍历所有元素。
    ```
   - 栈是以底层容器完成其所有的工作，对外提供统一的接口，底层容器是可插拔的（也就是说我们**可以控制使用哪种容器来实现栈的功能**）。

   - 所以STL中栈往往**不被归类为容器**，而`被归类为container adapter(容器适配器)`


栈的内部结构，栈的底层实现可以是`vector`，`deque`，`list` 都是可以的，**主要就是数组和链表的底层实现**。
![](https://code-thinking-1253855093.file.myqcloud.com/pics/20210104235459376.png)

- 我们常用的SGI STL，如果没有指定底层实现的话，`默认是以deque为缺省情况下栈的底层结构`。
  - deque是一个**双向队列**，只要封住一端，只开通另一端就可以实现栈的逻辑了。

指定使用`vector`初始化stack的语句为:
```cpp
std::stack<int, std::vector<int>> stack_test; // 使用vector作为底层容器
```

## 关于队列
SGI STL 中, `队列`底层实现`缺省情况下与stack一样, 都使用deque实现`。

指定使用`vector`初始化queue的语句为:
```cpp
std::queue<int, std::vector<int>> queue_test; // 使用vector作为底层容器
```
- 所以STL 队列也不被归类为容器，而被归类为`container adapter(容器适配器)`。



